<div class="register-container">
  <div class="card">
    <h2><i class="bi bi-person-plus-fill"></i> Customer Registration</h2>
    <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>{{ errorMessage }}
    </div>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="mb-3">
        <label for="name" class="form-label"><i class="bi bi-person-fill"></i> Full Name</label>
        <input 
          type="text" 
          id="name" 
          class="form-control" 
          formControlName="name" 
          (input)="onNameInput($event)"
          placeholder="Enter your full name"
          required 
        />
        <div *ngIf="getFieldError('name')" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>{{ getFieldError('name') }}
        </div>
      </div>
      
      <div class="mb-3">
        <label for="username" class="form-label"><i class="bi bi-person-badge-fill"></i> Username</label>
        <input 
          type="text" 
          id="username" 
          class="form-control" 
          formControlName="username" 
          (input)="onUsernameInput($event)"
          placeholder="Enter username (letters, numbers, underscore only)"
          required 
        />
        <div *ngIf="getFieldError('username')" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>{{ getFieldError('username') }}
        </div>
      </div>
      
      <div class="mb-3">
        <label for="email" class="form-label"><i class="bi bi-envelope-fill"></i> Email</label>
        <input 
          type="email" 
          id="email" 
          class="form-control" 
          formControlName="email" 
          placeholder="Enter your email address"
          required 
        />
        <div *ngIf="getFieldError('email')" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>{{ getFieldError('email') }}
        </div>
      </div>
      
      <div class="mb-3">
        <label for="mobile" class="form-label"><i class="bi bi-phone-fill"></i> Mobile Number</label>
        <input 
          type="tel" 
          id="mobile" 
          class="form-control" 
          formControlName="mobile" 
          (input)="onMobileInput($event)"
          placeholder="Enter 10-digit mobile number"
          maxlength="10"
          required 
        />
        <div *ngIf="getFieldError('mobile')" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>{{ getFieldError('mobile') }}
        </div>
      </div>
      
      <div class="mb-3">
        <label for="address" class="form-label"><i class="bi bi-geo-alt-fill"></i> Address</label>
        <textarea 
          id="address" 
          class="form-control" 
          formControlName="address" 
          (input)="onAddressInput($event)"
          placeholder="Enter your complete address (letters, numbers, spaces, /, , only)"
          rows="3"
          required 
        ></textarea>
        <div *ngIf="getFieldError('address')" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>{{ getFieldError('address') }}
        </div>
      </div>
      
      <div class="mb-3">
        <label for="aadhaar" class="form-label"><i class="bi bi-credit-card-2-front-fill"></i> Aadhaar Number</label>
        <input 
          type="text" 
          id="aadhaar" 
          class="form-control" 
          formControlName="aadhaar" 
          (input)="onAadhaarInput($event)"
          placeholder="Enter 12-digit Aadhaar number"
          maxlength="12"
          required 
        />
        <div *ngIf="getFieldError('aadhaar')" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>{{ getFieldError('aadhaar') }}
        </div>
      </div>
      
      <div class="mb-3">
        <label for="password" class="form-label"><i class="bi bi-lock-fill"></i> Password</label>
        <input 
          type="password" 
          id="password" 
          class="form-control" 
          formControlName="password" 
          placeholder="Enter password (minimum 6 characters)"
          required 
        />
        <div *ngIf="getFieldError('password')" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>{{ getFieldError('password') }}
        </div>
      </div>
      
      <div class="mb-3">
        <label for="confirmPassword" class="form-label"><i class="bi bi-lock-fill"></i> Confirm Password</label>
        <input 
          type="password" 
          id="confirmPassword" 
          class="form-control" 
          formControlName="confirmPassword" 
          placeholder="Confirm your password"
          required 
        />
        <div *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched" class="error">
          <i class="bi bi-exclamation-circle-fill me-1"></i>Passwords do not match
        </div>
      </div>
      
      <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid || isLoading">
        <i *ngIf="!isLoading" class="bi bi-person-check-fill"></i>
        <i *ngIf="isLoading" class="bi bi-arrow-clockwise spin"></i>
        {{ isLoading ? 'Registering...' : 'Register' }}
      </button>
      
      <a routerLink="/login" class="text-decoration-none text-center d-block mt-3">
        <i class="bi bi-box-arrow-in-left"></i> Already have an account? Login
      </a>
      
      <div class="text-center mt-2 d-flex justify-content-center">
        <button type="button" (click)="goToHome()" class="btn btn-link">
          <i class="bi bi-house-door-fill me-1"></i> Go to Home
        </button>
      </div>
    </form>
  </div>
</div>
